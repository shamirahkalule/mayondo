doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Admin Dashboard - Mayondo
  script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js')
  style.
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    }
    body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #ffffff;
    color: #1a1a1a;
    line-height: 1.6;
    min-height: 100vh;
    padding: 10px;
    }
    .container {
    max-width: 1200px;
    margin: 0 100px;
    padding: 10px;
    }
    /* Header */
    .dashboard-header {
    margin-bottom: 30px;
    }
    .dashboard-header h1 {
    font-size: 1.5rem;
    color: #1a1a1a;
    font-weight: 600;
    }
    .header-subtitle {
    color: #666666;
    font-size: 0.85rem;
    }
    .btn {
    padding: 10px 20px;
    background: #7c5cff;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-block;
    }
    .btn:hover {
    background: #6a4de0;
    transform: translateY(-2px);
    }
    .btn-secondary {
    background: #e0e0e0;
    color: #1a1a1a;
    }
    .btn-secondary:hover {
    background: #d0d0d0;
    }
    /* Stats Grid */
    .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
    }
    .stat-card {
    background: #f8f8f8;
    border-radius: 8px;
    padding: 18px;
    transition: transform 0.3s ease;
    border: 1px solid #e0e0e0;
    position: relative;
    }
    .stat-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }
    .stat-card h3 {
    color: #666666;
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
    }
    .stat-value {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 6px;
    }
    .stat-change {
    font-size: 0.75rem;
    color: #666666;
    display: block;
    margin-top: 4px;
    }
    .stat-change.positive {
    color: #22c55e;
    }
    .stat-change.negative {
    color: #ef4444;
    }
    .chart-container {
    margin-top: 12px;
    height: 50px;
    position: relative;
    }
    .chart-wrapper {
    position: relative;
    width: 100%;
    height: 50px;
    }
    .chart-wrapper-large {
    position: relative;
    width: 100%;
    height: 80px;
    }
    .mini-chart {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    }
    /* Alert Section */
    .alert-section {
    background: #f8f8f8;
    border-radius: 8px;
    padding: 18px;
    margin-bottom: 30px;
    border: 1px solid #e0e0e0;
    }
    .alert-section h2 {
    color: #1a1a1a;
    font-size: 1.1rem;
    margin-bottom: 15px;
    }
    .alert-section h3 {
    color: #666666;
    font-size: 0.85rem;
    margin-top: 15px;
    margin-bottom: 10px;
    }
    .alert-grid {
    display: grid;
    gap: 10px;
    }
    .alert-item {
    background: rgba(239, 68, 68, 0.1);
    border-left: 4px solid #ef4444;
    padding: 12px;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.85rem;
    }
    .alert-item strong {
    color: #fca5a5;
    font-weight: 600;
    }
    .alert-badge {
    background: #ef4444;
    color: white;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    }
    .success-message {
    color: #4ade80;
    background: rgba(74, 222, 128, 0.1);
    padding: 12px;
    border-radius: 6px;
    border-left: 4px solid #4ade80;
    font-size: 0.85rem;
    }
    /* Table Section */
    .table-section {
    background: #f8f8f8;
    border-radius: 8px;
    padding: 18px;
    margin-bottom: 30px;
    overflow-x: auto;
    border: 1px solid #e0e0e0;
    }
    .table-section h2 {
    color: #1a1a1a;
    font-size: 1.1rem;
    margin-bottom: 15px;
    }
    table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
    background: #ffffff;
    }
    thead {
    background: #f0f0f0;
    }
    th {
    padding: 12px;
    text-align: left;
    color: #666666;
    font-weight: 600;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    }
    td {
    padding: 12px;
    border-bottom: 1px solid #e0e0e0;
    color: #1a1a1a;
    }
    tbody tr:hover {
    background: #f8f8f8;
    }
    /* Recent Sales Cards */
    .sales-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
    }
    .sale-card {
    background: #f8f8f8;
    border-radius: 8px;
    padding: 15px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 1px solid #e0e0e0;
    }
    .sale-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
    }
    .sale-card-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 12px;
    padding-bottom: 10px;
    border-bottom: 1px solid #e0e0e0;
    }
    .sale-card p {
    margin: 6px 0;
    color: #666666;
    font-size: 0.8rem;
    }
    .sale-card strong {
    color: #1a1a1a;
    margin-right: 6px;
    }
    .payment-badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 0.7rem;
    font-weight: 600;
    background: rgba(124, 92, 255, 0.2);
    color: #7c5cff;
    }
    /* Quick Links */
    .quick-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 12px;
    }
    .quick-link-card {
    background: #f8f8f8;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    transition: all 0.3s ease;
    cursor: pointer;
    text-decoration: none;
    color: inherit;
    display: block;
    border: 1px solid #e0e0e0;
    }
    .quick-link-card:hover {
    background: #e8e8e8;
    transform: translateY(-2px);
    }
    .quick-link-card h3 {
    color: #1a1a1a;
    font-size: 0.85rem;
    font-weight: 500;
    }
    /* Mobile Responsive */
    @media (max-width: 768px) {
    .container {
    margin: 5px;
    }
    .dashboard-header h1 {
    font-size: 1.3rem;
    }
    .stats-grid {
    grid-template-columns: 1fr;
    }
    .stat-value {
    font-size: 1.3rem;
    }
    .sales-grid {
    grid-template-columns: 1fr;
    }
    table {
    font-size: 0.75rem;
    }
    th, td {
    padding: 10px 6px;
    }
    .quick-links {
    grid-template-columns: 1fr;
    }
    }

include ../components/nav 
 
.container
  // Header
  .dashboard-header
    h1 Admin Dashboard
    p.header-subtitle Overview reports of your business
  // Stats Overview
  .stats-grid
    .stat-card
      h3 Total Revenue
      .stat-value UGX 4,852,340
      span.stat-change.positive +30% than last week
      .chart-wrapper
        canvas#revenueChart.mini-chart
    .stat-card
      h3 Total Sales
      .stat-value 127
      span.stat-change.positive +12% than last week
      .chart-wrapper
        canvas#salesChart.mini-chart
    .stat-card
      h3 Low Stock Alerts
      .stat-value 8
      span.stat-change.negative Needs attention
      .chart-wrapper-large
        canvas#stockChart.mini-chart
  // Agent Performance
  .table-section
    h2 Sales Agent Performance
    table
      thead
        tr
          th Agent Name
          th Total Sales
          th Total Revenue
      tbody
        tr
          td John Doe
          td 45
          td UGX 1,850,000
        tr
          td Jane Smith
          td 38
          td UGX 1,560,000
        tr
          td Mike Johnson
          td 32
          td UGX 1,280,000
        tr
          td Sarah Williams
          td 12
          td UGX 162,340
  // Quick Actions
  .table-section
    h2 Quick Actions
    .quick-links
      a.quick-link-card(href='/allsales')
        h3 View All Sales
      a.quick-link-card(href='/stocklevels')
        h3 View Stock Levels
      a.quick-link-card(href='/displayfurniture')
        h3 Manage Furniture
      a.quick-link-card(href='/displaywood')
        h3 Manage Wood
  // Stock Alerts
  .alert-section
    h2 Stock Warnings (Items with less than 5 units)
    h3 Furniture
    .alert-grid
      .alert-item
        div
          strong Dining Table Set
          |  - Only 3 left in stock!
        span.alert-badge 3 units
      .alert-item
        div
          strong Office Chair
          |  - Only 2 left in stock!
        span.alert-badge 2 units
      .alert-item
        div
          strong Bookshelf
          |  - Only 4 left in stock!
        span.alert-badge 4 units
    h3 Wood
    .alert-grid
      .alert-item
        div
          strong Mahogany
          |  - Only 4 left in stock!
        span.alert-badge 4 units
      .alert-item
        div
          strong Oak Wood
          |  - Only 3 left in stock!
        span.alert-badge 3 units
  // Recent Sales
  .table-section
    h2 Recent Sales
    .sales-grid
      .sale-card
        .sale-card-header
          h3(style='color: #1a1a1a; font-size: 0.9rem;') Sale #12045
          span.payment-badge Cash
        p
          strong Customer:
          |  Robert Mukasa
        p
          strong Agent:
          |  John Doe
        p
          strong Items:
          |  3 product(s)
        p
          strong Total:
          |  UGX 485,000
        p
          strong Date:
          |  Nov 30, 2025
      .sale-card
        .sale-card-header
          h3(style='color: #1a1a1a; font-size: 0.9rem;') Sale #12044
          span.payment-badge Mobile Money
        p
          strong Customer:
          |  Grace Nakato
        p
          strong Agent:
          |  Jane Smith
        p
          strong Items:
          |  2 product(s)
        p
          strong Total:
          |  UGX 320,000
        p
          strong Date:
          |  Nov 29, 2025
      .sale-card
        .sale-card-header
          h3(style='color: #1a1a1a; font-size: 0.9rem;') Sale #12043
          span.payment-badge Bank Transfer
        p
          strong Customer:
          |  David Ssebunya
        p
          strong Agent:
          |  Mike Johnson
        p
          strong Items:
          |  5 product(s)
        p
          strong Total:
          |  UGX 750,000
        p
          strong Date:
          |  Nov 29, 2025
script.
  // Line chart configuration for Revenue and Sales
  const lineChartConfig = {
  type: 'line',
  options: {
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
  legend: {
  display: false
  },
  tooltip: {
  enabled: true,
  displayColors: false,
  backgroundColor: 'rgba(0, 0, 0, 0.8)',
  padding: 8,
  bodyFont: {
  size: 11
  },
  callbacks: {
  title: () => ''
  }
  }
  },
  interaction: {
  intersect: false,
  mode: 'index'
  },
  scales: {
  x: {
  display: false,
  grid: {
  display: false
  }
  },
  y: {
  display: false,
  grid: {
  display: false
  },
  beginAtZero: false
  }
  },
  elements: {
  point: {
  radius: 2,
  hitRadius: 8,
  hoverRadius: 4,
  backgroundColor: '#ffffff'
  },
  line: {
  tension: 0.3,
  borderWidth: 2
  }
  }
  }
  };
  // Bar chart configuration for Stock Alerts
  const barChartConfig = {
  type: 'bar',
  options: {
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
  legend: {
  display: false
  },
  tooltip: {
  enabled: true,
  displayColors: false,
  backgroundColor: 'rgba(0, 0, 0, 0.8)',
  padding: 8,
  bodyFont: {
  size: 11
  }
  }
  },
  scales: {
  x: {
  display: true,
  grid: {
  display: false
  },
  ticks: {
  color: '#666666',
  font: {
  size: 9
  }
  }
  },
  y: {
  display: true,
  beginAtZero: true,
  grid: {
  color: 'rgba(0, 0, 0, 0.05)'
  },
  ticks: {
  color: '#666666',
  font: {
  size: 9
  },
  stepSize: 1
  }
  }
  }
  }
  };
  // Revenue Chart
  new Chart(document.getElementById('revenueChart'), {
  ...lineChartConfig,
  data: {
  labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
  datasets: [{
  data: [3200, 3500, 3400, 3800, 4100, 4300, 4852],
  borderColor: '#22c55e',
  backgroundColor: 'transparent',
  fill: false,
  pointBackgroundColor: '#22c55e',
  pointBorderColor: '#ffffff',
  pointBorderWidth: 2
  }]
  }
  });
  // Sales Chart
  new Chart(document.getElementById('salesChart'), {
  ...lineChartConfig,
  data: {
  labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
  datasets: [{
  data: [95, 102, 98, 110, 115, 120, 127],
  borderColor: '#22c55e',
  backgroundColor: 'transparent',
  fill: false,
  pointBackgroundColor: '#22c55e',
  pointBorderColor: '#ffffff',
  pointBorderWidth: 2
  }]
  }
  });
  // Stock Chart - BAR GRAPH showing low stock items
  new Chart(document.getElementById('stockChart'), {
  ...barChartConfig,
  data: {
  labels: ['Dining Table', 'Office Chair', 'Bookshelf', 'Mahogany', 'Oak Wood'],
  datasets: [{
  data: [3, 2, 4, 4, 3],
  backgroundColor: '#ef4444',
  borderRadius: 4,
  barThickness: 20
  }]
  }
  });
