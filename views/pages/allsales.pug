doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title All Sales

body 
  include ../components/nav

  h1 All Sales Records
  
  if sales && sales.length > 0
    table(style='width: 100%; border-collapse: collapse;')
      thead
        tr
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Date
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Customer
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Agent
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Items
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Subtotal
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Delivery
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Total
          th(style='border: 1px solid #ddd; padding: 8px; background: #f2f2f2;') Payment
      tbody
        each sale in sales
          tr
            td(style='border: 1px solid #ddd; padding: 8px;')= sale.date
            td(style='border: 1px solid #ddd; padding: 8px;')= sale.customerName
            td(style='border: 1px solid #ddd; padding: 8px;')= sale.salesAgent
            td(style='border: 1px solid #ddd; padding: 8px;')
              each item in sale.items
                div #{item.productName} (x#{item.quantity})
            td(style='border: 1px solid #ddd; padding: 8px;') UGX #{sale.subtotal.toFixed(2)}
            td(style='border: 1px solid #ddd; padding: 8px;')
              if sale.delivery
                span Yes (UGX #{sale.deliveryFee.toFixed(2)})
              else
                span No
            td(style='border: 1px solid #ddd; padding: 8px; font-weight: bold;') UGX #{sale.total.toFixed(2)}
            td(style='border: 1px solid #ddd; padding: 8px;')= sale.paymentMethod
  else
    p No sales records found

  include ../components/footer