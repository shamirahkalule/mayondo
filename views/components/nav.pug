doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    style.
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: Arial, sans-serif;
      }

      nav {
        background-color: #2c3e50;
        padding: 16px 32px;
        position: relative;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }

      .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .nav-links {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
      }

      nav a {
        color: #ecf0f1;
        text-decoration: none;
        padding: 10px 10px;
        border-radius: 4px;
        transition: background-color 0.3s ease;
        white-space: nowrap;
      }

      nav a:hover {
        background-color: #34495e;
      }


      .user-info {
        color: #ecf0f1;
        font-size: 14px;
        padding: 10px;
        background-color: #34495e;
        border-radius: 4px;
        margin-left: 10px;
      }

      .logout-btn {
        background-color: #e74c3c;
        color: white;
        padding: 10px 15px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .logout-btn:hover {
        background-color: #c0392b;
      }

      .hamburger {
        display: none;
        flex-direction: column;
        cursor: pointer;
        padding: 10px;
      }

      .hamburger span {
        width: 25px;
        height: 3px;
        background-color: #ecf0f1;
        margin: 3px 0;
        transition: 0.3s;
        border-radius: 3px;
      }

      @media (max-width: 768px) {
        .hamburger {
          display: flex;
        }

        nav {
          margin: 0;
          padding: 5px;
        }

        .nav-links {
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background-color: #2c3e50;
          flex-direction: column;
          align-items: stretch;
          gap: 0;
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.3s ease;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .nav-links.active {
          max-height: 800px;
        }

        .nav-links a {
          padding: 16px 32px;
          border-radius: 0;
          border-bottom: 1px solid #34495e;
        }

        .user-info {
          margin: 10px 32px;
        }

        .hamburger.active span:nth-child(1) {
          transform: rotate(-45deg) translate(-6px, 6px);
        }

        .hamburger.active span:nth-child(2) {
          opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
          transform: rotate(45deg) translate(-6px, -6px);
        }
      }

  body
    nav
      .nav-container
        #hamburger.hamburger
          span
          span
          span
        #navLinks.nav-links
          a(href='/') Home
          
          //- Show Admin Dashboard only for Managers
          if user && user.role === 'Manager'
            a(href='/admindashboard') Admin Dashboard
            a(href='/allsales') All Sales
            a(href='/stocklevels') Stock Levels
            a(href='/displaywood') Display Wood
            a(href='/displayfurniture') Display Furniture
          
          //- Show Dashboard for both Manager and Sales Agent
          if user &&  user.role === 'Sales_agent'
            a(href='/dashboard') Dashboard
            a(href='/addcustomer') Add Customer
            a(href='/customers') View Customers
            a(href='/closesale') Close Sale


          
          //- Show Register/Edit options only for Managers
          if user && user.role === 'Manager'
            a(href='/regfurniture') Register Furniture
            a(href='/regwood') Register Wood
          
          //- Authentication links
          if !user
            a(href='/signin') Sign in
            a(href='/signup') Sign Up
          else
            span.user-info= `${user.fname} ${user.lname} (${user.role})`
            a.logout-btn(href='/logout') Logout

    script.
      const hamburger = document.getElementById('hamburger');
      const navLinks = document.getElementById('navLinks');

      hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        navLinks.classList.toggle('active');
      });

      // Close menu when a link is clicked (mobile)
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
          if (window.innerWidth <= 768) {
            hamburger.classList.remove('active');
            navLinks.classList.remove('active');
          }
        });
      });